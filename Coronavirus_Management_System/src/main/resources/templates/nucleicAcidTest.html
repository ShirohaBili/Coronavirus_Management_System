<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head >

    <!-- 页面meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>核酸检测</title>

    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"
          name="viewport">

    <link rel="stylesheet" href="/plugins/bootstrap/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/plugins/font-awesome/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/plugins/ionicons/css/ionicons.min.css" type="text/css">
    <link rel="stylesheet" href="/plugins/iCheck/square/blue.css" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/morris/morris.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/jvectormap/jquery-jvectormap-1.2.2.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/datepicker/datepicker3.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/daterangepicker/daterangepicker.css}">
    <link rel="stylesheet"
          th:href="@{/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/datatables/dataTables.bootstrap.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/treeTable/jquery.treetable.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/treeTable/jquery.treetable.theme.default.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/select2/select2.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/colorpicker/bootstrap-colorpicker.min.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/bootstrap-markdown/css/bootstrap-markdown.min.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/adminLTE/css/AdminLTE.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/adminLTE/css/skins/_all-skins.min.css}" type="text/css" >
    <link rel="stylesheet"
          th:href="@{/css/style.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/ionslider/ion.rangeSlider.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/ionslider/ion.rangeSlider.skinNice.css}" type="text/css">
    <link rel="stylesheet"
          th:href="@{/plugins/bootstrap-slider/slider.css}" type="text/css">
            <!--引用百度地图API-->
<style type="text/css">
    html,body{margin:0;padding:0;}
    .iw_poi_title {color:#CC5522;font-size:14px;font-weight:bold;overflow:hidden;padding-right:13px;white-space:nowrap}
    .iw_poi_content {font:12px arial,sans-serif;overflow:visible;padding-top:4px;white-space:-moz-pre-wrap;word-wrap:break-word}
</style>
<script type="text/javascript" src="http://api.map.baidu.com/api?key=&v=1.1&services=true"></script>
</head>

<body class="hold-transition skin-blue-light sidebar-mini">

<div class="wrapper">

    <div th:replace="commons/bar::#headerbar"></div>
    <div  th:replace="commons/bar::#sidebar"></div>
    

    <div class="content-wrapper">

        <!-- 内容头部 -->
        <section class="content-header">
            <h1>
                核酸检测站点 <small></small>
            </h1>
            <ol class="breadcrumb">
                <li><a><i
                        class="fa fa-dashboard"></i> 首页</a></li>
                <li><a href="/dashboard/acidTest">核酸检测站点</a></li>

            </ol>

        </section>
        <!-- 内容头部 /-->
    
        <!-- 正文区域 -->
        <section class="content">
            <div class="box box-primary">
                <div id="container" style="height:100%" class="mustknow">
                    <div class="container" data-reactroot="">
                        <!--百度地图容器-->
                        <div style="width:80%;height:550px;margin:auto;border:#ccc solid 10px;" id="dituContent"></div>
                        <div class="AcidTest__title"></div>
                        <hr>
                        <div>
                           <div class="AcidTest__title">
                               <span class="AcidTest__titleContent">本地核酸点具体信息</span>
                           </div>
                        </div>
                        <div>
                            <div class="AcidTest__pointList">
                                <div class="AcidTest__pointCard">
                                        <div class="AcidTest__hospital">中山大学附属第五医院</div>
                                    </div>
                                    <div class="AcidTest__subtitle">珠海市香洲区梅华东路52号</div>
                                    <div class="AcidTest__bottomWrap">
                                        <div class="AcidTest__telephone">
                                            <span class="small-box-footer">联系电话：0756-2528888 <i class="fa fa-arrow-circle-right"></i></span>
                                        </div>
                                        <span class="Vaccination__callBtn">营业时间：15:30-21:00</span>
                                </div>
                            </div>
                            <hr>
                            <div class="AcidTest__pointList">
                                <div class="AcidTest__pointCard">
                                    <div class="AcidTest__hospital">珠海市人民医院</div>
                                </div>
                                <div class="AcidTest__subtitle">珠海市香洲区康宁路79号</div>
                                <div class="AcidTest__bottomWrap">
                                    <div class="AcidTest__telephone">
                                        <span class="small-box-footer">联系电话：(0756)2222569 <i class="fa fa-arrow-circle-right"></i></span>
                                    </div>
                                    <span class="Vaccination__callBtn">营业时间：15:30-21:00</span>
                                </div>
                            </div>
                            <hr>
                            <div class="AcidTest__pointList">
                                <div class="AcidTest__pointCard">
                                    <div class="AcidTest__hospital">遵义医学院第五附属医院</div>
                                </div>
                                <div class="AcidTest__subtitle">广东省珠海市斗门区珠峰大道1439号</div>
                                <div class="AcidTest__bottomWrap">
                                    <div class="AcidTest__telephone">
                                        <span class="small-box-footer">联系电话：(0756)6275013,(0756)6275170,(0756)6275299 <i class="fa fa-arrow-circle-right"></i></span>
                                    </div>
                                    <span class="Vaccination__callBtn">营业时间：15:30-21:00</span>
                                </div>
                            </div>
                            <hr>
                            <div class="AcidTest__pointList">
                                <div class="AcidTest__pointCard">
                                    <div class="AcidTest__hospital">珠海市妇幼保健院</div>
                                </div>
                                <div class="AcidTest__subtitle">珠海市香洲区柠溪路543号</div>
                                <div class="AcidTest__bottomWrap">
                                    <div class="AcidTest__telephone">
                                        <span class="small-box-footer">联系电话：(0756)2313115 <i class="fa fa-arrow-circle-right"></i></span>
                                    </div>
                                    <span class="Vaccination__callBtn">营业时间：15:30-21:00</span>
                                </div>
                            </div>
                            <hr>
                            <div class="AcidTest__pointList">
                                <div class="AcidTest__pointCard">
                                    <div class="AcidTest__hospital">迎宾广场</div>
                                </div>
                                <div class="AcidTest__subtitle">广东省珠海市香洲区迎宾南路1144号</div>
                                <div class="AcidTest__bottomWrap">
                                    <div class="AcidTest__telephone">
                                        <span class="small-box-footer">联系电话：暂无 <i class="fa fa-arrow-circle-right"></i></span>
                                    </div>
                                    <span class="Vaccination__callBtn">营业时间：15:30-21:00</span>
                                </div>
                            </div>
                            <hr>
                            <div class="AcidTest__pointList">
                                <div class="AcidTest__pointCard">
                                    <div class="AcidTest__hospital">连屏村核酸采样点</div>
                                </div>
                                <div class="AcidTest__subtitle">珠海市香洲区保北路中国石油(连屏加油站)东南侧约250米</div>
                                <div class="AcidTest__bottomWrap">
                                    <div class="AcidTest__telephone">
                                        <span class="small-box-footer">联系电话：暂无 <i class="fa fa-arrow-circle-right"></i></span>
                                    </div>
                                    <span class="Vaccination__callBtn">营业时间：15:30-21:00</span>
                                </div>
                            </div>
                            <hr>
                            <div class="AcidTest__pointList">
                                <div class="AcidTest__pointCard">
                                    <div class="AcidTest__hospital">广东省中医院</div>
                                </div>
                                <div class="AcidTest__subtitle">珠海市香洲区吉大景乐路53号</div>
                                <div class="AcidTest__bottomWrap">
                                    <div class="AcidTest__telephone">
                                        <span class="small-box-footer">联系电话：暂无 <i class="fa fa-arrow-circle-right"></i></span>
                                    </div>
                                    <span class="Vaccination__callBtn">营业时间：15:30-21:00</span>
                                </div>
                            </div>
                            </div>
                            <hr>
                            <div class="box box-primary">
                            <div class="box-header with-border">
                                <h1 class="AcidTest__tableTitle">汇总表格</h1>
                            </div>

                            <div class="box-body">

                                <!-- 数据表格 -->
                                <div class="table-box">

                                    <!--工具栏-->
                                    <div class="pull-left">
                                        <div class="form-group form-inline">
                                            <div class="btn-group">
                                                <button type="button" class="btn btn-default" onclick="location.href='/dashboard/acidTest'">
                                                    <i class="fa fa-refresh"></i> 刷新
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="box-tools pull-right">
                                        <div class="has-feedback">
                                            <form th:action="@{/dashboard/acidTest/listByName}" method="get">
                                                <div style="display: flex;justify-content: center">
                                                    <input type="text" name="name" class="form-control input-sm" style="margin-right: 20px" placeholder="请输入姓名">
                                                    <input type="submit">
                                                </div>
                                            </form>
<!--                                            <input type="text" class="form-control input-sm"-->
<!--                                                   placeholder="搜索"> <span-->
<!--                                                class="glyphicon glyphicon-search form-control-feedback"></span>-->
<!--                                            <input type="submit">-->
                                        </div>
                                    </div>
                                    <!--工具栏/-->

                                    <!--数据列表-->
                                    <table id="dataList"
                                           class="table table-bordered table-striped table-hover dataTable">
                                        <thead>
                                        <tr>
                                            <th class="text-center" >编号</th>
                                            <th class="text-center" >名称</th>
                                            <th class="text-center" >地址</th>
                                            <th class="text-center">联系电话</th>
                                            <th class="text-center">开业时间</th>
                                        </tr>
                                        </thead>
                                        <tbody>

                                        <tr th:each="TestPlace:${pageInfo.getList()}">
                                            <td class="text-center"th:text="${TestPlace.id}"></td>
                                            <td class="text-center" th:text="${TestPlace.name}"></td>
                                            <td class="text-center"th:text="${TestPlace.place}"></td>
                                            <td class="text-center"th:text="${TestPlace.phone}"></td>
                                            <td class="text-center"th:text="${TestPlace.time}"></td>
                                        </tr>
                                        </tbody>


                                    </table>
                                    <!--数据列表/-->

                                </div>
                                <!-- 数据表格 /-->

                            </div>
                            </box-body>

                            <div class="box-footer">
                                <div class="pull-left">
                                    <div class="form-group form-inline" >
                                        总共[[${pageInfo.getPages()}]] 页，共[[${pageInfo.getTotal()}]]条数据。 每页
                                        <select class="form-control" id="changePageSize" onchange="changePageSize()">
                                            <option>[[${pageInfo.getPageSize()}]]</option>
                                            <option>25</option>
                                            <option>50</option>
                                            <option>75</option>
                                            <option>100</option>
                                        </select> 条
                                    </div>
                                </div>

                                <div class="box-tools pull-right">
                                    <ul class="pagination"  th:each="pageNum:${#numbers.sequence(1,pageInfo.getPages())}">
                                        <li  th:class="${pageNum!=pageInfo.getPageNum()}?'':'active'"><a  th:href="@{/dashboard/acidTest(page=${pageNum},size=${pageInfo.getPageSize()})}">[[${pageNum}]]</a></li>
                                    </ul>
                                    <ul class="pagination">
                                        <li><a th:href="@{/dashboard/acidTest(page=1,size=${pageInfo.getPageSize()})}" aria-label="Previous">首页</a></li>
                                        <li><a th:href="@{/dashboard/acidTest(page=${pageInfo.pageNum}-1,size=${pageInfo.getPageSize()})}">上一页</a></li>

                                        <li><a th:href="@{/dashboard/acidTest(page=${pageInfo.pageNum}+1,size=${pageInfo.getPageSize()})}">下一页</a></li>
                                        <li><a th:href="@{/dashboard/acidTest(page=${pageInfo.pages},size=${pageInfo.getPageSize()})}" aria-label="Next">尾页</a></li>
                                    </ul>
                                </div>

                            </div>

                            </div>
                        </div>
                    </div>
                </div>
<!--            </div>-->
        </section>
        

    </div>
</div>
<script th:src="@{/plugins/jQuery/jquery-2.2.3.min.js}"></script>
<script th:src="@{/plugins/jQueryUI/jquery-ui.min.js}"></script>
<script>
    $.widget.bridge('uibutton', $.ui.button);
</script>
<script th:src="@{/plugins/bootstrap/js/bootstrap.min.js}"></script>
<script th:src="@{/plugins/raphael/raphael-min.js}"></script>
<script th:src="@{/plugins/morris/morris.min.js}"></script>
<script th:src="@{/plugins/sparkline/jquery.sparkline.min.js}"></script>
<script th:src="@{/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js}"></script>
<script th:src="@{/plugins/jvectormap/jquery-jvectormap-world-mill-en.js}"></script>
<script th:src="@{/plugins/knob/jquery.knob.js}"></script>
<script th:src="@{/plugins/daterangepicker/moment.min.js}"></script>
<script th:src="@{/plugins/daterangepicker/daterangepicker.js}"></script>
<script th:src="@{/plugins/daterangepicker/daterangepicker.zh-CN.js}"></script>
<script th:src="@{/plugins/datepicker/bootstrap-datepicker.js}"></script>
<script
        th:src="@{/plugins/datepicker/locales/bootstrap-datepicker.zh-CN.js}"></script>
<script
        th:src="@{/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js}"></script>
<script th:src="@{/plugins/slimScroll/jquery.slimscroll.min.js}"></script>
<script th:src="@{/plugins/fastclick/fastclick.js}"></script>
<script th:src="@{/plugins/iCheck/icheck.min.js}"></script>
<script th:src="@{/plugins/adminLTE/js/app.min.js}"></script>
<script th:src="@{/plugins/treeTable/jquery.treetable.js}"></script>
<script th:src="@{/plugins/select2/select2.full.min.js}"></script>
<script th:src="@{/plugins/colorpicker/bootstrap-colorpicker.min.js}"></script>
<script
        th:src="@{/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.zh-CN.js}"></script>
<script th:src="@{/plugins/bootstrap-markdown/js/bootstrap-markdown.js}"></script>
<script
        th:src="@{/plugins/bootstrap-markdown/locale/bootstrap-markdown.zh.js}"></script>
<script th:src="@{/plugins/bootstrap-markdown/js/markdown.js}"></script>
<script th:src="@{/plugins/bootstrap-markdown/js/to-markdown.js}"></script>
<script th:src="@{/plugins/ckeditor/ckeditor.js}"></script>
<script th:src="@{/plugins/input-mask/jquery.inputmask.js}"></script>
<script
        th:src="@{/plugins/input-mask/jquery.inputmask.date.extensions.js}"></script>
<script th:src="@{/plugins/input-mask/jquery.inputmask.extensions.js}"></script>
<script th:src="@{/plugins/datatables/jquery.dataTables.min.js}"></script>
<script th:src="@{/plugins/datatables/dataTables.bootstrap.min.js}"></script>
<script th:src="@{/plugins/chartjs/Chart.min.js}"></script>
<script th:src="@{/plugins/flot/jquery.flot.min.js}"></script>
<script th:src="@{/plugins/flot/jquery.flot.resize.min.js}"></script>
<script th:src="@{/plugins/flot/jquery.flot.pie.min.js}"></script>
<script th:src="@{/plugins/flot/jquery.flot.categories.min.js}"></script>
<script th:src="@{/plugins/ionslider/ion.rangeSlider.min.js}"></script>
<script th:src="@{/plugins/bootstrap-slider/bootstrap-slider.js}"></script>
<script type="text/javascript">
    //创建和初始化地图函数：
    function initMap(){
        createMap();//创建地图
        setMapEvent();//设置地图事件
        addMapControl();//向地图添加控件
        addMarker();//向地图中添加marker
    }
    
    //创建地图函数：
    function createMap(){
        var map = new BMap.Map("dituContent");//在百度地图容器中创建一个地图
        var point = new BMap.Point(113.580181,22.276693);//定义一个中心点坐标
        map.centerAndZoom(point,14);//设定地图的中心点和坐标并将地图显示在地图容器中
        window.map = map;//将map变量存储在全局
    }
    
    //地图事件设置函数：
    function setMapEvent(){
        map.enableDragging();//启用地图拖拽事件，默认启用(可不写)
        map.enableScrollWheelZoom();//启用地图滚轮放大缩小
        map.enableDoubleClickZoom();//启用鼠标双击放大，默认启用(可不写)
        map.enableKeyboard();//启用键盘上下左右键移动地图
    }
    
    //地图控件添加函数：
    function addMapControl(){
        //向地图中添加缩放控件
	var ctrl_nav = new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE});
	map.addControl(ctrl_nav);
        //向地图中添加缩略图控件
	var ctrl_ove = new BMap.OverviewMapControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:1});
	map.addControl(ctrl_ove);
        //向地图中添加比例尺控件
	var ctrl_sca = new BMap.ScaleControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT});
	map.addControl(ctrl_sca);
    }
    //标注点数组
    var markerArr = [{title:"珠海市人民医院",content:"珠海市香洲区康宁路79号",point:"113.582317|22.280327",isOpen:0,icon:{w:21,h:21,l:0,t:0,x:6,lb:5}}
    ,{title:"友谊路24号",content:"珠海市香洲区友谊路24号",point:"113.5625|22.224666",isOpen:0,icon:{w:21,h:21,l:0,t:0,x:6,lb:5}}
    ,{title:"遵义医学院第五附属医院",content:"广东省珠海市斗门区珠峰大道1439号",point:"113.308675|22.171643",isOpen:0,icon:{w:21,h:21,l:0,t:0,x:6,lb:5}}
    ,{title:"珠海市妇幼保健院",content:"珠海市香洲区柠溪路543号",point:"113.566641|22.275143",isOpen:0,icon:{w:21,h:21,l:0,t:0,x:6,lb:5}}
    ,{title:"迎宾广场",content:"广东省珠海市香洲区迎宾南路1144号",point:"113.559886|22.230454",isOpen:0,icon:{w:21,h:21,l:0,t:0,x:6,lb:5}}
    ,{title:"连屏村核酸采样点",content:"珠海市香洲区保北路中国石油(连屏加油站)东南侧约250米",point:"113.510326|22.179483",isOpen:0,icon:{w:21,h:21,l:0,t:0,x:6,lb:5}}
    ,{title:"广东省中医院",content:"珠海市香洲区吉大景乐路53号",point:"113.585056|22.257943",isOpen:0,icon:{w:21,h:21,l:0,t:0,x:6,lb:5}}
		 ];
    //创建marker
    function addMarker(){
        for(var i=0;i<markerArr.length;i++){
            var json = markerArr[i];
            var p0 = json.point.split("|")[0];
            var p1 = json.point.split("|")[1];
            var point = new BMap.Point(p0,p1);
			var iconImg = createIcon(json.icon);
            var marker = new BMap.Marker(point,{icon:iconImg});
			var iw = createInfoWindow(i);
			var label = new BMap.Label(json.title,{"offset":new BMap.Size(json.icon.lb-json.icon.x+10,-20)});
			marker.setLabel(label);
            map.addOverlay(marker);
            label.setStyle({
                        borderColor:"#808080",
                        color:"#333",
                        cursor:"pointer"
            });
			
			(function(){
				var index = i;
				var _iw = createInfoWindow(i);
				var _marker = marker;
				_marker.addEventListener("click",function(){
				    this.openInfoWindow(_iw);
			    });
			    _iw.addEventListener("open",function(){
				    _marker.getLabel().hide();
			    })
			    _iw.addEventListener("close",function(){
				    _marker.getLabel().show();
			    })
				label.addEventListener("click",function(){
				    _marker.openInfoWindow(_iw);
			    })
				if(!!json.isOpen){
					label.hide();
					_marker.openInfoWindow(_iw);
				}
			})()
        }
    }
    //创建InfoWindow
    function createInfoWindow(i){
        var json = markerArr[i];
        var iw = new BMap.InfoWindow("<b class='iw_poi_title' title='" + json.title + "'>" + json.title + "</b><div class='iw_poi_content'>"+json.content+"</div>");
        return iw;
    }
    //创建一个Icon
    function createIcon(json){
        var icon = new BMap.Icon("http://webmap0.map.bdstatic.com/wolfman/static/common/images/us_cursor_9517a2b.png", new BMap.Size(10,22),{imageSize:new BMap.Size(144,92),imageOffset: new BMap.Size(-10,-0)})
        return icon;
    }
    initMap();//创建和初始化地图
</script>
<script>

    function detail(id) {
        location.href = "/touch/info/"
            + id;

    }
    function changePageSize() {
        //获取下拉框的值
        var pageSize = $("#changePageSize").val();

        //向服务器发送请求，改变没页显示条数
        location.href = "/dashboard/acidTest?page=1&size="
            + pageSize;
    }
    $(document).ready(function() {
        // 选择框
        $(".select2").select2();

        // WYSIHTML5编辑器
        $(".textarea").wysihtml5({
            locale : 'zh-CN'
        });
    });

    // 设置激活菜单
    function setSidebarActive(tagUri) {
        var liObj = $("#" + tagUri);
        if (liObj.length > 0) {
            liObj.parent().parent().addClass("active");
            liObj.addClass("active");
        }
    }

    $(document)
        .ready(
            function() {

                // 激活导航位置
                setSidebarActive("admin-datalist");

                // 列表按钮
                $("#dataList td input[type='checkbox']")
                    .iCheck(
                        {
                            checkboxClass : 'icheckbox_square-blue',
                            increaseArea : '20%'
                        });
                // 全选操作
                $("#selall")
                    .click(
                        function() {
                            var clicks = $(this).is(
                                ':checked');
                            if (!clicks) {
                                $(
                                    "#dataList td input[type='checkbox']")
                                    .iCheck(
                                        "uncheck");
                            } else {
                                $(
                                    "#dataList td input[type='checkbox']")
                                    .iCheck("check");
                            }
                            $(this).data("clicks",
                                !clicks);
                        });
            });
</script>

</body>

</html>